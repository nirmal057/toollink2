<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolLink Smooth Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1113;
            color: white;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        .test-button {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            border: none;
            color: white;
            padding: 12px 24px;
            margin: 10px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateZ(0);
        }
        .test-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 10px 20px rgba(255, 107, 53, 0.3);
        }
        .test-results {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 14px;
            max-height: 400px;
            overflow-y: auto;
        }
        .success { color: #4ade80; }
        .warning { color: #fbbf24; }
        .error { color: #f87171; }
        .info { color: #60a5fa; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸš€ ToolLink Smooth Animation Tester</h1>
        <p>This tool tests the smooth scrolling and animations on the main ToolLink application.</p>
        
        <div class="controls">
            <button class="test-button" onclick="openToolLink()">ğŸŒ Open ToolLink App</button>
            <button class="test-button" onclick="runSmoothTests()">ğŸ” Test Smooth Animations</button>
            <button class="test-button" onclick="testScrollBehavior()">ğŸ“œ Test Scroll Behavior</button>
            <button class="test-button" onclick="clearResults()">ğŸ—‘ï¸ Clear Results</button>
        </div>
        
        <div id="results" class="test-results">
            <div class="info">ğŸ¯ Click "Open ToolLink App" then "Test Smooth Animations" to begin testing...</div>
        </div>
    </div>

    <script>
        let testWindow = null;

        function log(message, type = 'info') {
            const results = document.getElementById('results');
            const div = document.createElement('div');
            div.className = type;
            div.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
            results.appendChild(div);
            results.scrollTop = results.scrollHeight;
        }

        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }

        function openToolLink() {
            log('ğŸŒ Opening ToolLink application...', 'info');
            testWindow = window.open('http://localhost:5174', '_blank');
            
            setTimeout(() => {
                if (testWindow && !testWindow.closed) {
                    log('âœ… ToolLink opened successfully!', 'success');
                    log('ğŸ’¡ Now you can test smooth animations on the opened window.', 'info');
                } else {
                    log('âŒ Failed to open ToolLink. Make sure the server is running on port 5174.', 'error');
                }
            }, 1000);
        }

        function runSmoothTests() {
            if (!testWindow || testWindow.closed) {
                log('âŒ Please open ToolLink app first!', 'error');
                return;
            }

            log('ğŸ” Running smooth animation tests...', 'info');

            try {
                // Inject test script into the ToolLink window
                const testScript = \`
                    console.log('ğŸš€ Starting ToolLink Smooth Tests...');
                    
                    // Test 1: Check smooth scroll support
                    const hasNativeSupport = 'scrollBehavior' in document.documentElement.style;
                    const scrollBehavior = getComputedStyle(document.documentElement).scrollBehavior;
                    
                    window.parent.postMessage({
                        type: 'test-result',
                        test: 'Smooth Scroll Support',
                        result: hasNativeSupport ? 'PASS' : 'FAIL',
                        details: \\\`Native support: \\\${hasNativeSupport}, CSS value: \\\${scrollBehavior}\\\`
                    }, '*');
                    
                    // Test 2: Check sections
                    const sections = ['features', 'about', 'testimonials', 'contact'];
                    sections.forEach(id => {
                        const element = document.getElementById(id);
                        window.parent.postMessage({
                            type: 'test-result',
                            test: \\\`Section \\\${id}\\\`,
                            result: element ? 'FOUND' : 'MISSING',
                            details: element ? \\\`Position: \\\${element.offsetTop}px\\\` : 'Element not found'
                        }, '*');
                    });
                    
                    // Test 3: Check navigation links
                    const navLinks = document.querySelectorAll('nav a[href^="#"], .nav a[href^="#"]');
                    window.parent.postMessage({
                        type: 'test-result',
                        test: 'Navigation Links',
                        result: navLinks.length > 0 ? 'FOUND' : 'MISSING',
                        details: \\\`Found \\\${navLinks.length} navigation links\\\`
                    }, '*');
                    
                    // Test 4: Test actual smooth scroll
                    if (navLinks.length > 0) {
                        const firstLink = navLinks[0];
                        console.log('Testing smooth scroll with first nav link...');
                        
                        // Simulate click
                        const event = new MouseEvent('click', { bubbles: true });
                        firstLink.dispatchEvent(event);
                        
                        setTimeout(() => {
                            window.parent.postMessage({
                                type: 'test-result',
                                test: 'Smooth Scroll Test',
                                result: 'EXECUTED',
                                details: 'Smooth scroll triggered - check if page scrolled smoothly'
                            }, '*');
                        }, 500);
                    }
                    
                    // Test 5: Check button animations
                    const buttons = document.querySelectorAll('button, a[class*="btn"], a[class*="button"]');
                    let animatedButtons = 0;
                    
                    buttons.forEach(btn => {
                        const style = getComputedStyle(btn);
                        if (style.transitionDuration !== '0s') {
                            animatedButtons++;
                        }
                    });
                    
                    window.parent.postMessage({
                        type: 'test-result',
                        test: 'Button Animations',
                        result: animatedButtons > 0 ? 'PASS' : 'FAIL',
                        details: \\\`\\\${animatedButtons}/\\\${buttons.length} buttons have smooth transitions\\\`
                    }, '*');
                \`;

                // Execute the test script
                testWindow.eval(testScript);
                
            } catch (error) {
                log('âŒ Error running tests: ' + error.message, 'error');
            }
        }

        function testScrollBehavior() {
            log('ğŸ“œ Testing scroll behavior independently...', 'info');
            
            // Test CSS support
            const hasScrollBehavior = 'scrollBehavior' in document.documentElement.style;
            log(`CSS scroll-behavior support: ${hasScrollBehavior ? 'âœ… YES' : 'âŒ NO'}`, 
                hasScrollBehavior ? 'success' : 'error');
            
            // Test ScrollIntoView
            const hasScrollIntoView = 'scrollIntoView' in document.documentElement;
            log(`ScrollIntoView support: ${hasScrollIntoView ? 'âœ… YES' : 'âŒ NO'}`, 
                hasScrollIntoView ? 'success' : 'error');
            
            // Test user preferences
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            log(`User prefers reduced motion: ${prefersReducedMotion ? 'âš ï¸ YES' : 'âœ… NO'}`, 
                prefersReducedMotion ? 'warning' : 'success');
        }

        // Listen for test results from the ToolLink window
        window.addEventListener('message', (event) => {
            if (event.data.type === 'test-result') {
                const { test, result, details } = event.data;
                const type = result === 'PASS' || result === 'FOUND' || result === 'EXECUTED' ? 'success' : 
                           result === 'FAIL' || result === 'MISSING' ? 'error' : 'warning';
                log(`${test}: ${result} - ${details}`, type);
            }
        });

        // Auto-run scroll behavior test on load
        setTimeout(testScrollBehavior, 500);
    </script>
</body>
</html>
